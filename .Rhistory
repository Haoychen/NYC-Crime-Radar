crime15 <- read.csv("../output/crime15_nta.csv")
crime15 <- tbl_df(crime15)
crime15$Occurren_3 <- crime15$Occurren_3 / 100 # occurrence hour
crime15$Occurrence_Date <- unlist((lapply(strsplit(as.character(crime15$Occurrence), split = " "), "[[", 1)))
crime15$Occurrence_Date <- as.Date(crime15$Occurrence_Date) # convert to Date class
crime15 <- read.csv("../output/crime15_nta.csv")
crime15 <- read.csv("../output/crime15_nta.csv")
crime15 <- read.csv("../output/crime15_nta.csv")
setwd("~/GitHub/project2-group7")
crime15 <- read.csv("../output/crime15_nta.csv")
crime15 <- read.csv("../output/crime15_nta.csv")
crime15 <- tbl_df(crime15)
library(leaflet)
library(dplyr)
library(sp)
library(rgdal)
crime15 <- read.csv("../output/crime15_nta.csv")
crime15 <- read.csv("../output/crime15_nta.csv")
library(leaflet)
library(dplyr)
library(sp)
library(rgdal)
getwd()
crime15 <- read.csv("../output/crime15_nta.csv")
crime15 <- read.csv("../output/crime15_nta.csv")
shiny::runApp('nyc_crimes')
crime15 <- read.csv("../output/crime15_nta.csv")
crime15 <- read.csv("../output/crime15_nta.csv")
crime15<-read.csv("../output/crime15_nta.csv")
library(leaflet)
library(dplyr)
library(sp)
library(rgdal)
# Crime data
getwd()
crime15<-read.csv("C:\Users\Eve\Documents\GitHub\project2-group7\output")
crime15<-read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/output/crime15_nta.csv")
crime15 <- tbl_df(crime15)
crime15$Occurren_3 <- crime15$Occurren_3 / 100 # occurrence hour
crime15$Occurrence_Date <- unlist((lapply(strsplit(as.character(crime15$Occurrence), split = " "), "[[", 1)))
crime15$Occurrence_Date <- as.Date(crime15$Occurrence_Date) # convert to Date class
# NYC Neighborhood Tabulation Areas read as SpatialPolygonsDataFrame
nynta <- readOGR(dsn = "../data/nynta_15d", layer = "nynta_projected")
nynta <- readOGR(dsn = "C:/Users/Eve/Documents/GitHub/project2-group7//data/nynta_15d", layer = "nynta_projected")
nynta <- spTransform(nynta, CRS("+proj=longlat +datum=WGS84")) # transform lat/lng for leaflet
nynta <- readOGR(dsn = "C:/Users/Eve/Documents/GitHub/project2-group7/data/nynta_15d", layer = "nynta_projected")
nynta <- spTransform(nynta, CRS("+proj=longlat +datum=WGS84")) # transform lat/lng for leaflet
pop_nta <- read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/data/New_York_City_Population_by_Neighborhood_Tabulation_Areas.csv")
pop_nta <- filter(pop_nta, Year == 2010, Population >= 10000)
View(crime15)
pop_nta
names(pop_nta)
pop_nta<-pop_nta[,-3]
pop_nta
shiny::runApp('nyc_crimes')
saveRDS(pop_nta,"pop_nta.rds")
pop<-load("pop_nta.rds")
save(pop_nta,"pop_nta.Rdata")
save(pop_nta,"pop_nta.RData")
pop_nta <- read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/data/New_York_City_Population_by_Neighborhood_Tabulation_Areas.csv")
pop_nta <- filter(pop_nta, Year == 2010, Population >= 10000)
pop_nta<-pop_nta[,-3]
save(pop_nta,"pop_nta.RData")
save(pop_nta,file="pop_nta.RData")
pop<-load("pop_nta.Rdata")
pop
pop$pop_nta
pop[1]
pop
pop_nta <- read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/data/New_York_City_Population_by_Neighborhood_Tabulation_Areas.csv")
pop_nta <- filter(pop_nta, Year == 2010, Population >= 10000)
pop_nta<-pop_nta[,-3]
save(pop_nta,file="pop_nta.RData")
pop_nta<-0
pop<-load("pop_nta.Rdata")
pop_nta <- read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/data/New_York_City_Population_by_Neighborhood_Tabulation_Areas.csv")
pop_nta <- filter(pop_nta, Year == 2010, Population >= 10000)
pop_nta<-pop_nta[,-3]
# NYC Neighborhood Tabulation Areas read as SpatialPolygonsDataFrame
nynta <- readOGR(dsn = "C:/Users/Eve/Documents/GitHub/project2-group7/data/nynta_15d", layer = "nynta_projected")
nynta <- spTransform(nynta, CRS("+proj=longlat +datum=WGS84")) # transform lat/lng for leaflet
save(nynta,file="nynta.RData")
nynta<-0
load("nynta.RData")
load("nynta.RData")
# Population data per NTA read as .csv file
pop_nta <- read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/data/New_York_City_Population_by_Neighborhood_Tabulation_Areas.csv")
pop_nta <- filter(pop_nta, Year == 2010, Population >= 10000)
pop_nta<-pop_nta[,-3]
save(pop_nta,file="pop_nta.RData")
load("pop_nta.RData")
names(crime15)
crime15
View(crime15)
crime15<-crime15[,-(1:2)]
names(crime15)
crime15<-crime15[,-(7:9)]
names(crime15)
save(crime15,file="crime15.RData")
crime15<-0
load("crime15.RData")
library(leaflet)
library(dplyr)
library(sp)
library(rgdal)
# Crime data
crime15<-read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/output/crime15_nta.csv")
crime15 <- tbl_df(crime15)
crime15$Occurren_3 <- crime15$Occurren_3 / 100 # occurrence hour
crime15$Occurrence_Date <- unlist((lapply(strsplit(as.character(crime15$Occurrence), split = " "), "[[", 1)))
crime15$Occurrence_Date <- as.Date(crime15$Occurrence_Date) # convert to Date class
crime15<-crime15[,-(1:2)]
crime15<-crime15[,-(7:9)]
save(crime15,file="crime15.RData")
load("crime15.RData")
# NYC Neighborhood Tabulation Areas read as SpatialPolygonsDataFrame
nynta <- readOGR(dsn = "C:/Users/Eve/Documents/GitHub/project2-group7/data/nynta_15d", layer = "nynta_projected")
nynta <- spTransform(nynta, CRS("+proj=longlat +datum=WGS84")) # transform lat/lng for leaflet
save(nynta,file="nynta.RData")
load("nynta.RData")
# Population data per NTA read as .csv file
pop_nta <- read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/data/New_York_City_Population_by_Neighborhood_Tabulation_Areas.csv")
pop_nta <- filter(pop_nta, Year == 2010, Population >= 10000)
pop_nta<-pop_nta[,-3]
save(pop_nta,file="pop_nta.RData")
shiny::runApp('nyc_crimes')
shiny::runApp('nyc_crimes')
shiny::runApp('nyc_crimes')
shiny::runApp('nyc_crimes')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('~/GitHub/healthrank')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('~/GitHub/healthrank')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
data<-read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/output/nyc_bars_nta.csv")
names(data)
summary(data)
class(data)
load("crime15.RData")
nyc_bars<- tbl_df(data)
library(leaflet)
library(dplyr)
library(sp)
library(rgdal)
nyc_bars<- tbl_df(data)
names(data)
nyc_bars
View(nyc_bars)
names()
names(data)
nyc_bars<-nyc_bars[,c(9:11,14,19,20,25,26)]
names(nyc_bars)
save(nyc_bars,file="nyc_bars_clean.RData")
nyc_bars=0
load("nyc_bars_clean.RData")
View(nyc_bars)
data<-read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/output/nyc_bars_nta.csv")
nyc_bars<- tbl_df(data)
nyc_bars<-nyc_bars[,c(9:10,14,19,20,25,26)]
save(nyc_bars,file="nyc_bars_clean.RData")
load("nyc_bars_clean.RData")
View(nyc_bars)
data<-read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/output/nyc_bars_nta.csv")
nyc_bars<- tbl_df(data)
nyc_bars<-na.omit(nyc_bars[,c(9:10,14,19,20,25,26)])
save(nyc_bars,file="nyc_bars_clean.RData")
load("nyc_bars_clean.RData")
View(nyc_bars)
summary(nyc_bars)
nyc_bars[nycbars[,1]=="DARK HORSE",]
nyc_bars[nyc_bars[,1]=="DARK HORSE",]
nyc_bars[nyc_bars[,1]=="dark HORSE",]
install.packages("R.utils")
library(R.utils)
c<-"dark horse"
capitalize(c)
toupper(c)
pop_nta <- read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/data/New_York_City_Population_by_Neighborhood_Tabulation_Areas.csv")
pop_nta <- filter(pop_nta, Year == 2010, Population >= 10000)
pop_nta<-pop_nta[,-3]
View(pop_nta)
crime15<-read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/output/crime15_nta.csv")
crime15 <- tbl_df(crime15)
crime15$Occurren_3 <- crime15$Occurren_3 / 100 # occurrence hour
crime15$Occurrence_Date <- unlist((lapply(strsplit(as.character(crime15$Occurrence), split = " "), "[[", 1)))
crime15$Occurrence_Date <- as.Date(crime15$Occurrence_Date) # convert to Date class
crime15<-crime15[,-(1:2)]
crime15<-crime15[,-(7:9)]
View(crime15)
crime15$NTAName<-toupper(crime15$NTAName)
save(crime15,file="crime15.RData")
# Crime data
crime15<-read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/output/crime15_nta.csv")
crime15 <- tbl_df(crime15)
crime15$Occurren_3 <- crime15$Occurren_3 / 100 # occurrence hour
crime15$Occurrence_Date <- unlist((lapply(strsplit(as.character(crime15$Occurrence), split = " "), "[[", 1)))
crime15$Occurrence_Date <- as.Date(crime15$Occurrence_Date) # convert to Date class
crime15<-crime15[,-(1:2)]
crime15<-crime15[,-(7:9)]
crime15$NTAName
crime15$NTAName<-toupper(crime15$NTAName)
crime15$NTAName
save(crime15,file="crime15.RData")
crime15<-0
load("crime15.RData")
crime15$NTAName
View(pop_nta)
View(pop_nta)
pop_nta$NTA.Name<-toupper(pop_nta$NTA.Name)
pop_nta$NTA.Name
nyc_bars$NTAName<-toupper(nyc_bars$NTAName)
summary(nyc_bars)
nyc_bars$NTAName
library(leaflet)
library(dplyr)
library(sp)
library(rgdal)
# Crime data
crime15<-read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/output/crime15_nta.csv")
crime15 <- tbl_df(crime15)
crime15$Occurren_3 <- crime15$Occurren_3 / 100 # occurrence hour
crime15$Occurrence_Date <- unlist((lapply(strsplit(as.character(crime15$Occurrence), split = " "), "[[", 1)))
crime15$Occurrence_Date <- as.Date(crime15$Occurrence_Date) # convert to Date class
crime15<-crime15[,-(1:2)]
crime15<-crime15[,-(7:9)]
crime15$NTAName<-toupper(crime15$NTAName)
save(crime15,file="crime15.RData")
load("crime15.RData")
# NYC Neighborhood Tabulation Areas read as SpatialPolygonsDataFrame
nynta <- readOGR(dsn = "C:/Users/Eve/Documents/GitHub/project2-group7/data/nynta_15d", layer = "nynta_projected")
nynta <- spTransform(nynta, CRS("+proj=longlat +datum=WGS84")) # transform lat/lng for leaflet
save(nynta,file="nynta.RData")
load("nynta.RData")
# Population data per NTA read as .csv file
pop_nta <- read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/data/New_York_City_Population_by_Neighborhood_Tabulation_Areas.csv")
pop_nta <- filter(pop_nta, Year == 2010, Population >= 10000)
pop_nta<-pop_nta[,-3]
pop_nta$NTA.Name<-toupper(pop_nta$NTA.Name)
save(pop_nta,file="pop_nta.RData")
load("crime15.RData")
load("nynta.RData")
load("pop_nta.RData")
data<-read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/output/nyc_bars_nta.csv")
nyc_bars<- tbl_df(data)
nyc_bars<-na.omit(nyc_bars[,c(9:10,14,19,20,25,26)])
nyc_bars$NTAName<-toupper(nyc_bars$NTAName)
save(nyc_bars,file="nyc_bars_clean.RData")
load("nyc_bars_clean.RData")
library(R.utils)
library(base)
View(nyc_bars)
View(nyc_bars)
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
View(nyc_bars)
names(nyc_bars)
shiny::runApp('final project')
names(nyc_bars)
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
View(nyc_bars)
names(nyc_bars)
shiny::runApp('final project')
shiny::runApp('final project')
nyc_bars
class(nyc_bars)
nyc_bars[1,1]
print(nyc_bars[1,1])
text(nyc_bars[1,1])
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
nyc_bars
class(nyc_bars[1,1])
class(nyc_bars[1,1])
c<-nyc_bars[1,1]
c
c<-as.data.frame(c)
c
c$Doing.Busi
c$Doing.Busi<-as.character(c$Doing.Busi)
c
c$Doing.Busi
nnyc_bars
nyc_bars
as.data.frame(nyc_bars)
names(nyc_bars)
nyc_bars$Doing.Busi
names(nyc_bars)
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
load("nyc_bars_clean.RData")
nyc_bars$NTAName
class(nyc_bars$NTAName)
load("nyc_bars_clean.RData")
d<-filter(nyc_bars,nyc_bars$NTAName==toupper(input$nta))%>%
as.data.frame()
input$nta<-"East Village"
input<-data.frame(nta="East Village")
d<-filter(nyc_bars,nyc_bars$NTAName==toupper(input$nta))%>%
as.data.frame()
d
d<-filter(nyc_bars,nyc_bars$NTAName==toupper(input$nta))%>%
as.data.frame()
d$Doing.Busi<-as.character(d$Doing.Busi)
d$Actual.Add<-as.character(d$Actual.Add)
d$NTAName<-as.character(d$NTAName)
summar(d)
summary(d)
d$NTAName
d$Latitude
class(d$Latitude)
shiny::runApp('final project')
nyc_bars
names(nyc_bars)
shiny::runApp('final project')
shiny::runApp('final project')
d[1,7]
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
nyc_bars
View(nyc_bars)
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
nyc_bars[1,]
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
nyc_bars
data<-as.data.frame(nyc_bars)
filter(data,data$NTAName=="East Village")
filter(data,data$NTAName=="EAST VILLAGE")
toupper("e")
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
View(nyc_bars)
shiny::runApp('final project')
data(Andrew)
nyc_bars
View(nyc_bars)
View(nyc_bars)
library(leaflet)
library(leaflet)
library(dplyr)
library(sp)
library(rgdal)
# Crime data
crime15<-read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/output/crime15_nta.csv")
crime15 <- tbl_df(crime15)
crime15$Occurren_3 <- crime15$Occurren_3 / 100 # occurrence hour
crime15$Occurrence_Date <- unlist((lapply(strsplit(as.character(crime15$Occurrence), split = " "), "[[", 1)))
crime15$Occurrence_Date <- as.Date(crime15$Occurrence_Date) # convert to Date class
crime15<-crime15[,-(1:2)]
crime15<-crime15[,-(7:9)]
crime15$NTAName<-toupper(crime15$NTAName)
save(crime15,file="crime15.RData")
load("crime15.RData")
# NYC Neighborhood Tabulation Areas read as SpatialPolygonsDataFrame
nynta <- readOGR(dsn = "C:/Users/Eve/Documents/GitHub/project2-group7/data/nynta_15d", layer = "nynta_projected")
nynta <- spTransform(nynta, CRS("+proj=longlat +datum=WGS84")) # transform lat/lng for leaflet
save(nynta,file="nynta.RData")
load("nynta.RData")
# Population data per NTA read as .csv file
pop_nta <- read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/data/New_York_City_Population_by_Neighborhood_Tabulation_Areas.csv")
pop_nta <- filter(pop_nta, Year == 2010, Population >= 10000)
pop_nta<-pop_nta[,-3]
pop_nta$NTA.Name<-toupper(pop_nta$NTA.Name)
save(pop_nta,file="pop_nta.RData")
load("crime15.RData")
load("nynta.RData")
load("pop_nta.RData")
data<-read.csv("C:/Users/Eve/Documents/GitHub/project2-group7/output/nyc_bars_nta.csv")
nyc_bars<- tbl_df(data)
nyc_bars
View(nyc_bars)
class(nyc_bars$Location)
d<-nyc_bars$Location
class(c)
class(c[1])
c[1]
class(d)
d[1]
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
nycbars<-cbind(nyc_bars,"1")
names(nycbars[,8])<-"location"
names(nycbars)
nycbars$"1"
View(nycbars)
nycbars<-cbind(nyc_bars,"location")
nycbars$Location
nycbars<-cbind(nyc_bars,"location")
nycbars$"location"
View(nycbars)
nycbars$"location"<-paste(nycbars$Latitude,nycbars$Longitude,":")
View(nycbars)
nycbars$"location"
nycbars$"location"<-paste(nycbars$Latitude,":",nycbars$Longitude)
nycbars$"location"
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
names(nyc_bars)
shiny::runApp('final project')
shiny::runApp('final project')
View(nyc_bars)
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
shiny::runApp('final project')
